---
---

@import index

html
  padding: 0

body
  font-size: 1.06em
  margin: 0 0 0 16.5em
  max-width: inherit
  overscroll-behavior: none

body > header, body > footer
  display: none

body > article
  margin: 0 5em
  padding: 2em 0
  max-width: 50em
  animation: pageSlideIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) // 主内容区域滑入动画

// 桌面端sidebar样式
aside.desktop-sidebar
  display: block!important
  position: fixed
  overflow: auto
  background: linear-gradient(135deg, #2d5016 0%, #3a651d 100%) // 柔和的渐变背景
  color: #fff
  padding: 2.25em
  width: 12em
  top: 0
  bottom: 0
  left: 0
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) // 更柔和的过渡
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.08) // 更柔和的阴影

  &:hover
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.12) // 悬停时阴影更柔和

.sidebar-content
  display: flex
  flex-direction: column
  height: 100%
  min-height: calc(100vh - 4.5em)

.main-nav
  flex: 0 0 auto
  margin: 0 -2.25em

.sidebar-bottom
  flex: 1
  display: flex
  flex-direction: column
  justify-content: flex-end
  margin-top: 2em

.bottom-nav
  flex: 0 0 auto
  margin: 0 -2.25em
  border-top: 1px solid rgba(255, 255, 255, 0.15) // 更淡的分隔线
  padding-top: 1em
  position: relative

  &::before
    content: ''
    position: absolute
    top: 0
    left: 0
    right: 0
    height: 1px
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.25), transparent)
    animation: gentleShimmer 3s ease-in-out infinite // 更柔和的闪烁

article header h1
  font-size: 2em

nav a, .main-nav a, .bottom-nav a
  display: block
  margin: 0
  padding: .5em 2.25em
  position: relative
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) // 更柔和的过渡
  transform: translateX(0)
  overflow: hidden

  &::before
    content: ''
    position: absolute
    top: 0
    left: -100%
    width: 100%
    height: 100%
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.06), transparent) // 更淡的光效
    transition: left 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)
    z-index: 1

  &:hover
    background: rgba(58, 101, 29, 0.8) // 更柔和的悬停背景
    text-decoration: inherit
    transform: translateX(4px) // 减少滑动距离
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08) // 更柔和的阴影
    color: #2d5016 !important // 悬停时整个链接文字变深绿色

    &::before
      left: 100%

  &.selected
    background: rgba(74, 122, 42, 0.9) // 更柔和的选中背景
    transform: translateX(3px) // 减少选中时的位移
    box-shadow: 0 2px 16px rgba(0, 0, 0, 0.12)

    &::after
      content: ''
      position: absolute
      right: 0
      top: 50%
      transform: translateY(-50%)
      width: 2px // 更细的指示器
      height: 50% // 更短的指示器
      background: rgba(255, 255, 255, 0.8) // 更淡的颜色
      border-radius: 1px
      animation: gentlePulse 3s ease-in-out infinite // 更柔和的脉冲

.icon
  margin-right: 1.2em
  color: inherit!important
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) // 更柔和的过渡
  display: inline-block

nav a:hover .icon, .main-nav a:hover .icon, .bottom-nav a:hover .icon
  transform: scale(1.05) rotate(2deg) // 减少旋转角度和缩放
  color: #2d5016 !important // 改为深绿色

.description
  margin: 1em 0 0 0
  font-size: 0.9em
  opacity: 0.7
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)

  &:hover
    opacity: 0.9

// 波纹效果样式
.ripple-effect
  position: absolute
  border-radius: 50%
  background: rgba(255, 255, 255, 0.15) // 更淡的波纹
  transform: scale(0)
  animation: gentleRipple 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) // 更柔和的波纹
  pointer-events: none
  z-index: 2

// 选中状态的脉冲动画
.selected
  animation: gentleSelectedPulse 3s ease-in-out infinite !important // 更柔和的脉冲

// 关键帧动画定义 - 更柔和的版本



@keyframes gentleShimmer
  0%, 100%
    opacity: 0.15
  50%
    opacity: 0.35

@keyframes gentlePulse
  0%, 100%
    opacity: 0.6
    transform: translateY(-50%) scale(1)
  50%
    opacity: 0.9
    transform: translateY(-50%) scale(1.05)

@keyframes gentleRipple
  to
    transform: scale(3) // 减少波纹大小
    opacity: 0

@keyframes gentleSelectedPulse
  0%, 100%
    box-shadow: 0 2px 16px rgba(0, 0, 0, 0.12)
  50%
    box-shadow: 0 2px 24px rgba(0, 0, 0, 0.18)

@keyframes pageSlideIn
  from
    transform: translateX(100px)
    opacity: 0
  to
    transform: translateX(0)
    opacity: 1

// 移动端topbar样式
.mobile-topbar
  display: flex !important
  flex-wrap: nowrap
  position: fixed
  top: 0
  left: 0
  right: 0
  background: linear-gradient(135deg, #2d5016 0%, #3a651d 100%)
  color: #ffffff
  padding: 0.8em 1em
  z-index: 1000
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2)
  align-items: center

  // 防止内容左右溢出
  overflow-x: auto
  -webkit-overflow-scrolling: touch

  .site-title
    font-size: 1.1em
    font-weight: bold
    color: #ffffff
    margin: 0
    margin-right: auto
    white-space: nowrap
    flex: 0 0 auto
    max-width: 40vw
    overflow: hidden
    text-overflow: ellipsis

  .mobile-nav
    display: flex
    flex: 1 1 auto
    justify-content: flex-end
    flex-wrap: nowrap
    gap: 0.8em
    align-items: center
    overflow-x: auto

    a
      color: #ffffff
      text-decoration: none
      font-size: 0.9em
      padding: 0.4em 0.6em
      border-radius: 6px
      transition: all 0.2s ease
      display: flex
      align-items: center
      gap: 0.3em
      white-space: nowrap
      flex: 0 0 auto

      &:hover
        background-color: rgba(255, 255, 255, 0.2)
        transform: translateY(-1px)

      .icon
        width: 16px
        height: 16px
        fill: currentColor

// 深色模式样式
@media (prefers-color-scheme: dark)
  aside.desktop-sidebar
    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important

  nav a, .main-nav a, .bottom-nav a
    color: #ffffff !important
    
    &:hover
      background: rgba(74, 144, 226, 0.8) !important
      color: #000000 !important

      .icon
        color: #000000 !important

    &.selected
      background: rgba(74, 144, 226, 0.9) !important
      color: #000000 !important

  .description
    color: #cccccc !important

  .bottom-nav
    border-top-color: rgba(255, 255, 255, 0.3) !important

    &::before
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent) !important

  // 深色模式下的移动端topbar
  .mobile-topbar
    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)

    .mobile-nav a:hover
      background-color: rgba(74, 144, 226, 0.3)

// 强制深色模式样式
[data-theme="dark"] aside.desktop-sidebar,
.dark-mode aside.desktop-sidebar,
html[data-bs-theme="dark"] aside.desktop-sidebar
  background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important
  color: #ffffff !important

[data-theme="dark"] nav a,
[data-theme="dark"] .main-nav a,
[data-theme="dark"] .bottom-nav a,
.dark-mode nav a,
.dark-mode .main-nav a,
.dark-mode .bottom-nav a,
html[data-bs-theme="dark"] nav a,
html[data-bs-theme="dark"] .main-nav a,
html[data-bs-theme="dark"] .bottom-nav a
  color: #ffffff !important

// 移动端响应式设计 - 将sidebar变成topbar
@media (max-width: 70em)
  body
    margin: 0
    max-width: 100%
    font-size: 1em

  // 强制隐藏桌面端sidebar
  aside.desktop-sidebar, .sidebar-content
    display: none !important
    visibility: hidden !important
    opacity: 0 !important
    pointer-events: none !important
    position: absolute !important
    left: -9999px !important

  body > article
    margin: 0 1em
    padding: 1em 0
    max-width: 100%

  // 显示移动端topbar
  .mobile-topbar
    display: flex !important
    visibility: visible !important
    opacity: 1 !important
    pointer-events: auto !important

  // 为移动端topbar添加内容偏移
  body
    padding-top: 4em

// 平板设备支持
@media (max-width: 1024px) and (min-width: 70em)
  body
    margin: 0 0 0 14em
    font-size: 1.02em

  aside.desktop-sidebar
    width: 10em
    padding: 1.8em

  body > article
    margin: 0 3em
    max-width: 60em

// 小屏幕设备
@media (max-width: 480px)
  body
    margin: 0
    font-size: 0.95em

  body > article
    margin: 0 0.5em
    padding: 0.8em 0

  .mobile-topbar
    padding: 0.6em 0.8em

    .site-title
      font-size: 1em

    .mobile-nav
      gap: 0.5em

      a
        font-size: 0.8em
        padding: 0.3em 0.5em

// 响应式动画调整
@media (prefers-reduced-motion: reduce)
  aside.desktop-sidebar, nav a, .icon, .description
    transition: none
    animation: none
  
  .ripple-effect
    animation: none
